% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_quintile.R
\name{plot_quintile_days}
\alias{plot_quintile_days}
\title{Plot Quintile Days Metrics}
\usage{
plot_quintile_days(
  data,
  day_type = c("fda", "industry", "total"),
  cohort_status,
  show_phe = TRUE,
  show_shutdowns = FALSE,
  scale_shutdowns_by_duration = FALSE,
  fade_open_cohorts = TRUE,
  y_limits = NULL,
  show_labels = TRUE,
  facet_ncol = 4L,
  title = NULL,
  subtitle = NULL,
  caption = NULL
)
}
\arguments{
\item{data}{A data frame containing days metrics with columns:
\code{fy}, \code{org}, \code{value}, \code{performance_metric}. Should contain percentile
metrics (20th, 40th, 60th, 80th) and optionally "Average" metrics.}

\item{day_type}{Type of days metric: "fda", "industry", or "total".
Determines y-axis scale breaks.}

\item{cohort_status}{A data frame with cohort closure status (required).
Must contain \code{fy}, \code{org}, \code{percent_closed}, and \code{status} columns.
Average points are styled by status; opacity reflects closure percentage.}

\item{show_phe}{Logical, whether to show COVID-19 Public Health Emergency
highlighting (default: TRUE).}

\item{show_shutdowns}{Logical, whether to show government shutdown markers
(default: FALSE). Shows gray square markers at affected fiscal years.}

\item{scale_shutdowns_by_duration}{Logical, whether to scale shutdown marker
size by duration (default: FALSE). When TRUE, longer shutdowns have larger
markers.}

\item{fade_open_cohorts}{Logical, whether to reduce opacity for open cohorts
(default: TRUE). When TRUE, alpha is scaled based on \code{percent_closed}
(range 0.3-1.0).}

\item{y_limits}{Optional y-axis limits as a length-2 numeric vector.
Use to create clipped versions of plots (e.g., \code{c(0, 90)} for FDA days).}

\item{show_labels}{Logical, whether to show numeric labels on average
points (default: TRUE).}

\item{facet_ncol}{Number of columns in facet grid (default: 4).}

\item{title}{Optional plot title. If NULL, a default title is generated.}

\item{subtitle}{Optional plot subtitle. If NULL, a default subtitle is used.}

\item{caption}{Plot caption. If NULL (default), auto-generates a caption
listing source reports with cutoff dates using
\code{\link{source_caption_with_dates}}. If FALSE or NA, no caption is
shown. If a character string, uses that value.}
}
\value{
A ggplot2 object that can be further customized with \code{+}.
}
\description{
Creates a visualization of FDA Days, Industry Days, or Total Days
performance metrics using a quintile plot format. Shows percentile
lines (20th, 40th, 60th, 80th) as horizontal segments and average
values as points.
}
\details{
The plot displays percentile distributions of review times using:
\itemize{
\item Horizontal line segments at each percentile level (20th, 40th, 60th, 80th)
\item Points for average values, with shape indicating cohort status
\item Optional opacity based on cohort closure percentage
}

When \code{fade_open_cohorts = TRUE}, the alpha (opacity) of average points
is scaled based on \code{percent_closed} (range 0.3-1.0). Fully closed cohorts
are fully opaque, while open cohorts are semi-transparent, visually
indicating that their metrics may change in future reports.
}
\examples{
\dontrun{
# Basic FDA days plot
data_fdadays |>
  plot_quintile_days(
    day_type = "fda",
    cohort_status = data_cohort_status
  )

# With clipped y-axis
data_fdadays |>
  plot_quintile_days(
    day_type = "fda",
    cohort_status = data_cohort_status,
    y_limits = c(0, 90)
  )

# Total days with shutdown markers
data_totaldays |>
  plot_quintile_days(
    day_type = "total",
    cohort_status = data_cohort_status,
    show_shutdowns = TRUE
  )
}
}
